fields:
    name:
        label: Name
        span: auto
        type: text
        required: 1
    description:
        label: Description
        size: ''
        span: auto
        type: textarea
    active:
        label: Active
        span: auto
        default: true
        type: switch
    priority:
        label: 'Priority'
        span: auto
        type: number
        required: 1
        default: 1
    application:
        label: Application
        nameFrom: code
        descriptionFrom: version
        span: auto
        required: 1
        type: relation
tabs:
    fields:
        model_ref:
            emptyOption: '-- Select --'
            label: Model
            nameFrom: name
            descriptionFrom: description
            span: auto
            required: 1
            type: relation
            tab: 'Model Configuration'
            comment: 'Qualified Model for workflow.'
        model_state_field:
            label: State Field
            span: auto
            type: dropdown
            showSearch: true
            dependsOn: 'model_ref'
            default: 'workflow_state_id'
            tab: 'Model Configuration'
            readOnly: true
        condition:
            label: Condition
            span: auto
            modelField: model
            modelType: Demo\Core\Models\Webhook
            type: querybuilderwidget
            tab: 'Model Configuration'
            dependsOn:
                - model_ref
        definition:
            label: Definition
            prompt: 'Add new item'
            span: full
            type: repeater
            tab: Definition
            required: 1
            form:
                fields:
                    from_state:
                        label: 'From State'
                        span: auto
                        type: relation
                        required: 1
                    to_state:
                        label: 'To State'
                        span: auto
                        type: relation
                        required: 1
                    queue:
                        label: 'Queue'
                        span: auto
                        type: relation
                        required: 1
        _work:
            label: 'Works'
            span: full
            targetModel: Demo\Workflow\Models\Work
            list: default
            type: relatedlist
            tab: 'Works'
            query:
                where:
                    workflow_id: '{{model.id}}'

        _workflow_transition:
            label: Transitions
            span: full
            targetModel: Demo\Workflow\Models\WorkflowTransition
            list: default
            type: relatedlist
            tab: 'Workflow Transitions'
            query:
                join:
                    model: Demo\Workflow\Models\Work
                    key: id
                    targetKey: work_id
                    where:
                        workflow_id: '{{model.id}}'
